# 需求规格说明书 - 面试记录管理页面

## 1. 项目概述

### 1.1 背景
当前HRMS系统已有招聘管理模块，包含信息管理和候选人管理功能。候选人管理页面中已有面试功能，但缺少专门的面试记录管理页面，无法有效管理和查看所有面试记录。

### 1.2 目标
在招聘管理菜单下新增面试记录页面，支持候选人与面试官名称搜索，支持查看与编辑面试评价功能，提升面试管理效率。

### 1.3 范围
- **包含内容**：面试记录列表展示、搜索功能、面试评价查看与编辑
- **不包含内容**：面试记录的创建（通过候选人管理页面创建）、面试流程管理、面试官排期管理

## 2. 功能需求

### 2.1 用户角色
| 角色名称 | 描述 | 权限 |
|----------|------|------|
| 系统管理员(sys) | 分公司管理员 | 查看所有面试记录、编辑面试评价、搜索功能 |
| 普通用户(normal) | 面试官或HR | 查看分配给自己的面试记录、编辑面试评价、搜索功能 |

### 2.2 功能清单

#### 2.2.1 面试记录列表展示
- **需求ID**: FR-001
- **需求描述**: 展示所有面试记录，包含候选人信息、面试官信息、面试状态、面试评价等
- **优先级**: 高
- **验收标准**: 
  - 能够分页展示面试记录列表
  - 显示候选人姓名、应聘职位、面试官姓名、面试状态、面试评价
  - 支持按面试时间排序
- **依赖关系**: 依赖现有Candidate数据模型

#### 2.2.2 候选人姓名搜索
- **需求ID**: FR-002
- **需求描述**: 支持按候选人姓名进行模糊搜索
- **优先级**: 高
- **验收标准**: 
  - 输入候选人姓名关键词能够筛选相关记录
  - 支持模糊匹配
  - 搜索结果实时更新
- **依赖关系**: 依赖FR-001

#### 2.2.3 面试官姓名搜索
- **需求ID**: FR-003
- **需求描述**: 支持按面试官姓名进行搜索
- **优先级**: 高
- **验收标准**: 
  - 输入面试官姓名关键词能够筛选相关记录
  - 支持模糊匹配
  - 搜索结果实时更新
- **依赖关系**: 依赖FR-001、Staff数据模型

#### 2.2.4 面试评价查看
- **需求ID**: FR-004
- **需求描述**: 支持查看详细的面试评价内容
- **优先级**: 中
- **验收标准**: 
  - 点击查看按钮能够弹出面试评价详情
  - 显示完整的面试评价内容
  - 界面友好，信息清晰
- **依赖关系**: 依赖FR-001

#### 2.2.5 面试评价编辑
- **需求ID**: FR-005
- **需求描述**: 支持编辑面试评价内容
- **优先级**: 高
- **验收标准**: 
  - 面试官能够编辑自己负责的候选人面试评价
  - 系统管理员能够编辑所有面试评价
  - 编辑后能够保存并更新数据库
- **依赖关系**: 依赖FR-001、权限验证机制

#### 2.2.6 面试状态筛选
- **需求ID**: FR-006
- **需求描述**: 支持按面试状态筛选记录
- **优先级**: 中
- **验收标准**: 
  - 支持筛选"面试中"、"已拒绝"、"已录取"状态
  - 筛选结果准确
  - 支持多状态组合筛选
- **依赖关系**: 依赖FR-001

## 3. 用户故事

### 3.1 HR查看面试记录
**作为** HR人员
**我想要** 查看所有候选人的面试记录
**以便于** 了解招聘进度和面试情况

**验收条件**:
- 能够看到候选人姓名、应聘职位、面试官、面试状态
- 能够按时间顺序查看记录
- 界面清晰易懂

### 3.2 面试官管理面试评价
**作为** 面试官
**我想要** 查看和编辑我负责的候选人面试评价
**以便于** 记录面试结果和意见

**验收条件**:
- 能够查看分配给我的候选人面试记录
- 能够编辑和保存面试评价
- 评价内容支持富文本格式

### 3.3 管理员搜索面试记录
**作为** 系统管理员
**我想要** 通过候选人或面试官姓名搜索面试记录
**以便于** 快速定位特定的面试信息

**验收条件**:
- 支持候选人姓名模糊搜索
- 支持面试官姓名搜索
- 搜索结果准确且响应快速

## 4. 数据需求

### 4.1 数据实体
- **Candidate**: 候选人信息（已存在）
  - candidate_id: 候选人ID
  - name: 候选人姓名
  - job_name: 应聘职位
  - staff_id: 面试官ID
  - evaluation: 面试评价
  - status: 面试状态（0面试中、1拒绝、2录取）

- **Staff**: 员工信息（已存在）
  - staff_id: 员工ID
  - staff_name: 员工姓名
  - dep_name: 部门名称
  - rank_name: 职级名称

### 4.2 数据流
面试记录数据主要来源于候选人信息，通过面试官ID关联获取面试官详细信息，支持按条件筛选和编辑面试评价。

## 5. 界面设计需求

### 6.1 页面布局
- 顶部搜索区域：候选人姓名搜索框、面试官姓名搜索框、状态筛选下拉框
- 主体表格区域：面试记录列表
- 操作按钮：查看、编辑面试评价

### 6.2 表格字段
| 字段名 | 显示名称 | 宽度 | 说明 |
|--------|----------|------|------|
| 序号 | 序号 | 60px | 自动编号 |
| name | 候选人姓名 | 100px | 候选人姓名 |
| job_name | 应聘职位 | 130px | 应聘的职位名称 |
| staff_name | 面试官 | 120px | 面试官姓名-部门-职级 |
| status | 面试状态 | 90px | 面试中/已拒绝/已录取 |
| evaluation | 面试评价 | 200px | 面试评价内容（截取显示） |
| 操作 | 操作 | 150px | 查看、编辑按钮 |

### 6.3 交互设计
- 搜索框支持实时搜索
- 表格支持分页显示
- 编辑面试评价弹出模态框
- 操作按钮根据权限显示

## 7. 假设和依赖

### 7.1 假设
- 面试记录通过候选人管理页面的面试功能创建
- 面试评价字段已存在于Candidate表中
- 现有的权限验证机制可以复用

### 7.2 依赖
- 依赖现有的Candidate数据模型和相关接口
- 依赖现有的Staff数据模型和查询接口
- 依赖现有的权限验证和菜单配置机制
- 依赖Layui前端框架和现有的页面模板

## 8. 验收标准

### 8.1 功能验收
- [ ] 面试记录列表正确显示所有数据
- [ ] 候选人姓名搜索功能正常
- [ ] 面试官姓名搜索功能正常
- [ ] 面试状态筛选功能正常
- [ ] 面试评价查看功能正常
- [ ] 面试评价编辑功能正常
- [ ] 权限控制正确（普通用户只能编辑自己的面试记录）

### 8.2 性能验收
- [ ] 页面加载时间不超过2秒
- [ ] 搜索响应时间不超过1秒
- [ ] 支持至少1000条记录的分页显示

### 8.3 兼容性验收
- [ ] 兼容Chrome、Firefox、Edge等主流浏览器
- [ ] 响应式设计，支持不同屏幕尺寸
- [ ] 与现有系统风格保持一致

## 9. 风险和约束

### 9.1 技术风险
- 现有Candidate表结构可能需要调整以支持更丰富的面试记录信息
- 大量面试记录可能影响页面加载性能

### 9.2 业务约束
- 面试评价的编辑权限需要严格控制
- 面试记录的删除功能暂不提供，避免数据丢失

### 9.3 时间约束
- 需要在现有系统框架内实现，减少开发时间
- 复用现有接口和组件，提高开发效率